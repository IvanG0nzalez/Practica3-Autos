(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{8506:function(e,n,r){Promise.resolve().then(r.bind(r,1362))},1362:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return p}});var s=r(7437),a=r(5691),o=r(2265),t=r(1865),i=r(4033),l=r(3369),c=r(5944),d=r(1396),u=r.n(d),m=r(6468),f=r(4174),h=r(8170);function p(e){var n,r,d,p,j;let{params:x}=e,b=x.external;(0,l.fK)();let v=(0,l.LP)(),g=(0,i.useRouter)(),Z=(0,l.U2)("rol"),[N,k]=(0,o.useState)({});(0,o.useEffect)(()=>{(async()=>{let e=await (0,h.ZH)("/admin/compradores/obtener/"+b,v);console.log("response",e),e.datos&&(k(e.datos),S("nombres",e.datos.nombres),S("apellidos",e.datos.apellidos),S("direccion",e.datos.direccion),S("celular",e.datos.celular),S("genero",e.datos.genero))})()},[b,S,v]),a.Ry().shape({nombres:a.Z_().required("Ingrese sus nombres"),apellidos:a.Z_().required("Ingrese sus apellidos"),direccion:a.Z_().required("Ingrese su direcci\xf3n"),celular:a.Z_().required("Ingrese su celular").length(10,"El celular debe tener 10 d\xedgitos")});let{register:w,handleSubmit:C,formState:y,setValue:S,watch:I}=(0,t.cI)({defaultValues:N}),{errors:O}=y;return(0,s.jsxs)("div",{className:"row",children:["gerente"===Z?(0,s.jsx)(m.Z,{}):(0,s.jsx)(f.Z,{}),(0,s.jsx)("h1",{children:"Modificar Comprador"}),(0,s.jsx)("div",{className:"col-4 container-fluid",children:(0,s.jsxs)("form",{onSubmit:C(e=>{console.log("data",e);var n={nombres:e.nombres,apellidos:e.apellidos,direccion:e.direccion,celular:e.celular,genero:e.genero};console.log("dato",n),(0,h.Lw)("admin/comprador/editar/"+b,n,v).then(e=>{console.log("info",e),200===e.code?((0,c.Z)("Comprador modificado correctamente","OK","sucess"),g.push("/compradores")):(0,c.Z)("Error al modificar el comprador!","Error","error")})}),children:[(0,s.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,s.jsx)("label",{className:"form-label",children:"Nombres"}),(0,s.jsx)("input",{...w("nombres"),name:"nombres",id:"nombres",className:"form-control ".concat(O.nombres?"is-invalid":"")}),(0,s.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(n=O.nombres)||void 0===n?void 0:n.message})]}),(0,s.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,s.jsx)("label",{className:"form-label",children:"Apellidos"}),(0,s.jsx)("input",{...w("apellidos"),name:"apellidos",id:"apellidos",className:"form-control ".concat(O.apellidos?"is-invalid":"")}),(0,s.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(r=O.apellidos)||void 0===r?void 0:r.message})]}),(0,s.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,s.jsx)("label",{className:"form-label",children:"Direcci\xf3n"}),(0,s.jsx)("input",{...w("direccion"),name:"direccion",id:"direccion",className:"form-control ".concat(O.direccion?"is-invalid":"")}),(0,s.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(d=O.direccion)||void 0===d?void 0:d.message})]}),(0,s.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,s.jsx)("label",{className:"form-label",children:"Celular"}),(0,s.jsx)("input",{...w("celular"),name:"celular",id:"celular",className:"form-control ".concat(O.celular?"is-invalid":"")}),(0,s.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(p=O.celular)||void 0===p?void 0:p.message})]}),(0,s.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,s.jsx)("label",{className:"form-label",children:"G\xe9nero"}),(0,s.jsxs)("select",{...w("genero"),name:"genero",id:"genero",className:"form-select ".concat(O.genero?"is-invalid":""),children:[(0,s.jsx)("option",{value:"Masculino",children:"Masculino"}),(0,s.jsx)("option",{value:"Femenino",children:"Femenino"}),(0,s.jsx)("option",{value:"Otro",children:"Otro"})]}),(0,s.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(j=O.genero)||void 0===j?void 0:j.message})]}),(0,s.jsxs)("div",{className:"d-flex gap-4",children:[(0,s.jsx)("button",{type:"submit",className:"btn btn-outline-dark btn-lg px-5",id:"boton-nuevo-auto",children:"Guardar"}),(0,s.jsx)(u(),{href:"/compradores",children:(0,s.jsx)("button",{className:"btn btn-outline-dark btn-lg px-5",children:"Cancelar"})})]})]})})]})}},5944:function(e,n,r){"use strict";var s=r(5003),a=r.n(s);n.Z=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";return a()(n,e,r,{button:"ACEPTAR",closeOnEsc:!0,closeOnClickOutside:!0,timer:3e3})}},6468:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var s=r(7437),a=r(3369);r(1396);var o=r(5944),t=r(4033),i=r(2580),l=r(7380),c=r(8776);function d(){let e=(0,t.useRouter)(),n=async()=>{await (0,a.jH)(),(0,o.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,s.jsx)(i.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,s.jsxs)("div",{className:"container-fluid",children:[(0,s.jsx)(i.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,s.jsx)(i.Z.Collapse,{id:"navbarSupportedContent",children:(0,s.jsxs)(l.Z,{className:"me-auto",children:[(0,s.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,s.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,s.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,s.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,s.jsxs)(c.Z,{title:"Autos",id:"basic-nav-dropdown",children:[(0,s.jsx)(c.Z.Item,{href:"/autos",children:"Autos"}),(0,s.jsx)(c.Z.Item,{href:"/autos/vendidos",children:"Autos Vendidos"}),(0,s.jsx)(c.Z.Item,{href:"/autos/disponibles",children:"Autos Disponibles"})]}),(0,s.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},4174:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var s=r(7437),a=r(3369);r(1396);var o=r(5944),t=r(4033),i=r(2580),l=r(7380),c=r(8776);function d(){let e=(0,t.useRouter)(),n=async()=>{await (0,a.jH)(),(0,o.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,s.jsx)(i.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,s.jsxs)("div",{className:"container-fluid",children:[(0,s.jsx)(i.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,s.jsx)(i.Z.Collapse,{id:"navbarSupportedContent",children:(0,s.jsxs)(l.Z,{className:"me-auto",children:[(0,s.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,s.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,s.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,s.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,s.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},8170:function(e,n,r){"use strict";r.d(n,{Lw:function(){return c},MX:function(){return t},ZH:function(){return o},lf:function(){return i},m3:function(){return a},xC:function(){return l}});let s="https://back-end-autos.onrender.com/api/";async function a(e,n){let r=[];r={"Content-Type":"application/json"};let a=await fetch(s+e,{method:"POST",headers:r,body:JSON.stringify(n)});return await a.json()}async function o(e,n){let r=await fetch(s+e,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await r.json()}async function t(e,n,r){let a=await fetch(s+e+r,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await a.json()}async function i(e,n,r){let a=await fetch(s+e,{method:"POST",headers:{"Content-type":"application/json",token:r},body:JSON.stringify(n)});return await a.json()}async function l(e,n,r){let a=await fetch(s+e,{method:"POST",headers:{token:r},body:n});return await a.json()}async function c(e,n,r){let a=await fetch(s+e,{method:"PATCH",headers:{"Content-type":"application/json",token:r},body:JSON.stringify(n)});return await a.json()}},3369:function(e,n,r){"use strict";r.d(n,{Fr:function(){return o},LP:function(){return t},U2:function(){return a},a1:function(){return s},fK:function(){return i},jH:function(){return l},pR:function(){return c}});let s=(e,n)=>{sessionStorage.setItem(e,n)},a=e=>sessionStorage.getItem(e),o=e=>{sessionStorage.setItem("token",e)},t=()=>sessionStorage.getItem("token"),i=()=>sessionStorage.getItem("external_id"),l=()=>{sessionStorage.clear()},c=()=>{var e=sessionStorage.getItem("token");return e&&("undefined"!==e||null!==e||"null"!==e)}}},function(e){e.O(0,[595,664,729,971,938,744],function(){return e(e.s=8506)}),_N_E=e.O()}]);