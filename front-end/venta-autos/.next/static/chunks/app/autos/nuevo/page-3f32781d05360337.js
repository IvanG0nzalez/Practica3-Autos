(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[193],{9284:function(e,n,r){Promise.resolve().then(r.bind(r,6781))},6781:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return p}});var t=r(7437),a=r(5691),o=r(1865),i=r(9701),s=r(4033),l=r(3369),c=r(5944),d=r(1396),u=r.n(d),m=r(6468),f=r(4174),h=r(8170);function p(){var e,n,r,d,p;(0,l.fK)();let v=(0,l.LP)(),j=(0,l.U2)("rol"),x=(0,s.useRouter)(),g=a.Ry().shape({marca:a.Z_().required("Ingrese la marca del auto"),modelo:a.Z_().required("Ingrese el modelo del auto"),anio:a.Rx().required("Ingrese el a\xf1o del auto").typeError("El a\xf1o debe ser un n\xfamero").min(1886,"El a\xf1o m\xednimo permitido es 1886").max(new Date().getFullYear(),"El a\xf1o no puede ser mayor al actual"),color:a.Z_().required("Ingrese el color del auto"),precio:a.Rx().required("Ingrese el precio del auto").typeError("El precio debe ser un n\xfamero").min(0,"El precio no puede ser negativo")}),b={resolver:(0,i.X)(g)},{register:y,handleSubmit:N,formState:Z}=(0,o.cI)(b),{errors:k}=Z;return(0,t.jsxs)("div",{className:"row",children:["gerente"===j?(0,t.jsx)(m.Z,{}):(0,t.jsx)(f.Z,{}),(0,t.jsx)("h1",{children:"Registrar Auto"}),(0,t.jsx)("div",{className:"col-4 container-fluid",children:(0,t.jsxs)("form",{onSubmit:N(e=>{console.log("data",e);var n={marca:e.marca,modelo:e.modelo,anio:e.anio,color:e.color,precio:e.precio};console.log("dato",n),(0,h.lf)("admin/auto/guardar",n,v).then(e=>{console.log("info",e),(0,c.Z)("Auto registrado correctamente","OK","sucess"),x.push("/autos")})}),children:[(0,t.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,t.jsx)("label",{className:"form-label",children:"Marca"}),(0,t.jsx)("input",{...y("marca"),name:"marca",id:"marca",className:"form-control ".concat(k.marca?"is-invalid":"")}),(0,t.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(e=k.marca)||void 0===e?void 0:e.message})]}),(0,t.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,t.jsx)("label",{className:"form-label",children:"Modelo"}),(0,t.jsx)("input",{...y("modelo"),name:"modelo",id:"modelo",className:"form-control ".concat(k.modelo?"is-invalid":"")}),(0,t.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(n=k.modelo)||void 0===n?void 0:n.message})]}),(0,t.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,t.jsx)("label",{className:"form-label",children:"A\xf1o"}),(0,t.jsx)("input",{...y("anio"),name:"anio",id:"anio",className:"form-control ".concat(k.anio?"is-invalid":"")}),(0,t.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(r=k.anio)||void 0===r?void 0:r.message})]}),(0,t.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,t.jsx)("label",{className:"form-label",children:"Color"}),(0,t.jsx)("input",{...y("color"),name:"color",id:"color",className:"form-control ".concat(k.color?"is-invalid":"")}),(0,t.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(d=k.color)||void 0===d?void 0:d.message})]}),(0,t.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,t.jsx)("label",{className:"form-label",children:"Precio"}),(0,t.jsx)("input",{...y("precio"),name:"precio",id:"precio",className:"form-control ".concat(k.precio?"is-invalid":"")}),(0,t.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(p=k.precio)||void 0===p?void 0:p.message})]}),(0,t.jsxs)("div",{className:"d-flex gap-4",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-outline-dark btn-lg px-5",id:"boton-nuevo-auto",children:"Agregar"}),(0,t.jsx)(u(),{href:"/autos",children:(0,t.jsx)("button",{className:"btn btn-outline-dark btn-lg px-5",children:"Cancelar"})})]})]})})]})}},5944:function(e,n,r){"use strict";var t=r(5003),a=r.n(t);n.Z=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";return a()(n,e,r,{button:"ACEPTAR",closeOnEsc:!0,closeOnClickOutside:!0,timer:3e3})}},6468:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(7437),a=r(3369);r(1396);var o=r(5944),i=r(4033),s=r(2580),l=r(7380),c=r(8776);function d(){let e=(0,i.useRouter)(),n=async()=>{await (0,a.jH)(),(0,o.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,t.jsx)(s.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsx)(s.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,t.jsx)(s.Z.Collapse,{id:"navbarSupportedContent",children:(0,t.jsxs)(l.Z,{className:"me-auto",children:[(0,t.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,t.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,t.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,t.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,t.jsxs)(c.Z,{title:"Autos",id:"basic-nav-dropdown",children:[(0,t.jsx)(c.Z.Item,{href:"/autos",children:"Autos"}),(0,t.jsx)(c.Z.Item,{href:"/autos/vendidos",children:"Autos Vendidos"}),(0,t.jsx)(c.Z.Item,{href:"/autos/disponibles",children:"Autos Disponibles"})]}),(0,t.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},4174:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(7437),a=r(3369);r(1396);var o=r(5944),i=r(4033),s=r(2580),l=r(7380),c=r(8776);function d(){let e=(0,i.useRouter)(),n=async()=>{await (0,a.jH)(),(0,o.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,t.jsx)(s.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsx)(s.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,t.jsx)(s.Z.Collapse,{id:"navbarSupportedContent",children:(0,t.jsxs)(l.Z,{className:"me-auto",children:[(0,t.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,t.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,t.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,t.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,t.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},8170:function(e,n,r){"use strict";r.d(n,{Lw:function(){return c},MX:function(){return i},ZH:function(){return o},lf:function(){return s},m3:function(){return a},xC:function(){return l}});let t="http://localhost:3000/api/";async function a(e,n){let r=[];r={"Content-Type":"application/json"};let a=await fetch(t+e,{method:"POST",headers:r,body:JSON.stringify(n)});return await a.json()}async function o(e,n){let r=await fetch(t+e,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await r.json()}async function i(e,n,r){let a=await fetch(t+e+r,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await a.json()}async function s(e,n,r){let a=await fetch(t+e,{method:"POST",headers:{"Content-type":"application/json",token:r},body:JSON.stringify(n)});return await a.json()}async function l(e,n,r){let a=await fetch(t+e,{method:"POST",headers:{token:r},body:n});return await a.json()}async function c(e,n,r){let a=await fetch(t+e,{method:"PATCH",headers:{"Content-type":"application/json",token:r},body:JSON.stringify(n)});return await a.json()}},3369:function(e,n,r){"use strict";r.d(n,{Fr:function(){return o},LP:function(){return i},U2:function(){return a},a1:function(){return t},fK:function(){return s},jH:function(){return l},pR:function(){return c}});let t=(e,n)=>{sessionStorage.setItem(e,n)},a=e=>sessionStorage.getItem(e),o=e=>{sessionStorage.setItem("token",e)},i=()=>sessionStorage.getItem("token"),s=()=>sessionStorage.getItem("external_id"),l=()=>{sessionStorage.clear()},c=()=>{var e=sessionStorage.getItem("token");return e&&("undefined"!==e||null!==e||"null"!==e)}},9701:function(e,n,r){"use strict";r.d(n,{X:function(){return c}});var t=r(1865),a=function(e,n,r){if(e&&"reportValidity"in e){var a=(0,t.U2)(r,n);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},o=function(e,n){var r=function(r){var t=n.fields[r];t&&t.ref&&"reportValidity"in t.ref?a(t.ref,r,e):t.refs&&t.refs.forEach(function(n){return a(n,r,e)})};for(var t in n.fields)r(t)},i=function(e,n){n.shouldUseNativeValidation&&o(e,n);var r={};for(var a in e){var i=(0,t.U2)(n.fields,a),c=Object.assign(e[a]||{},{ref:i&&i.ref});if(l(n.names||Object.keys(e),a)){var d=Object.assign({},s((0,t.U2)(r,a)));(0,t.t8)(d,"root",c),(0,t.t8)(r,a,d)}else(0,t.t8)(r,a,c)}return r},s=function(e){return Array.isArray(e)?e.filter(Boolean):[]},l=function(e,n){return e.some(function(e){return e.startsWith(n+".")})};function c(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),function(a,s,l){try{return Promise.resolve(function(t,i){try{var c=(n.context,Promise.resolve(e["sync"===r.mode?"validateSync":"validate"](a,Object.assign({abortEarly:!1},n,{context:s}))).then(function(e){return l.shouldUseNativeValidation&&o({},l),{values:r.raw?a:e,errors:{}}}))}catch(e){return i(e)}return c&&c.then?c.then(void 0,i):c}(0,function(e){var n;if(!e.inner)throw e;return{values:{},errors:i((n=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,(e.inner||[]).reduce(function(e,r){if(e[r.path]||(e[r.path]={message:r.message,type:r.type}),n){var a=e[r.path].types,o=a&&a[r.type];e[r.path]=(0,t.KN)(r.path,n,e,r.type,o?[].concat(o,r.message):r.message)}return e},{})),l)}}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[595,664,729,971,938,744],function(){return e(e.s=9284)}),_N_E=e.O()}]);