(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{664:function(e,n,a){Promise.resolve().then(a.bind(a,8300))},8300:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return p}});var o=a(7437),r=a(5691),t=a(2265),s=a(1865),i=a(4033),l=a(3369),c=a(5944),d=a(1396),u=a.n(d),m=a(6468),f=a(4174),h=a(8170);function p(e){var n,a,d,p,j;let{params:x}=e,v=x.external;(0,l.fK)();let b=(0,l.LP)(),g=(0,i.useRouter)(),Z=(0,l.U2)("rol"),[N,k]=(0,t.useState)({});(0,t.useEffect)(()=>{(async()=>{let e=await (0,h.ZH)("/admin/autos/obtener/"+v,b);console.log("response",e),e.datos&&(k(e.datos),S("marca",e.datos.marca),S("modelo",e.datos.modelo),S("anio",e.datos.anio),S("color",e.datos.color),S("precio",e.datos.precio))})()},[v,S,b]),r.Ry().shape({marca:r.Z_().required("Ingrese la marca del auto"),modelo:r.Z_().required("Ingrese el modelo del auto"),anio:r.Rx().required("Ingrese el a\xf1o del auto").typeError("El a\xf1o debe ser un n\xfamero").min(1886,"El a\xf1o m\xednimo permitido es 1886").max(new Date().getFullYear(),"El a\xf1o no puede ser mayor al actual"),color:r.Z_().required("Ingrese el color del auto"),precio:r.Rx().required("Ingrese el precio del auto").typeError("El precio debe ser un n\xfamero").min(0,"El precio no puede ser negativo")});let{register:w,handleSubmit:y,formState:C,setValue:S,watch:I}=(0,s.cI)({defaultValues:N}),{errors:E}=C;return(0,o.jsxs)("div",{className:"row",children:["gerente"===Z?(0,o.jsx)(m.Z,{}):(0,o.jsx)(f.Z,{}),(0,o.jsx)("h1",{children:"Modificar Auto"}),(0,o.jsx)("div",{className:"col-4 container-fluid",children:(0,o.jsxs)("form",{onSubmit:y(e=>{console.log("data",e);var n={marca:e.marca,modelo:e.modelo,anio:e.anio,color:e.color,precio:e.precio};console.log("dato",n),(0,h.Lw)("admin/auto/editar/"+v,n,b).then(e=>{console.log("info",e),200===e.code?((0,c.Z)("Auto modificado correctamente","OK","sucess"),g.push("/autos/detalle/".concat(v))):(0,c.Z)("Error al modificar el auto!","Error","error")})}),children:[(0,o.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,o.jsx)("label",{className:"form-label",children:"Marca"}),(0,o.jsx)("input",{...w("marca"),name:"marca",id:"marca",className:"form-control ".concat(E.marca?"is-invalid":"")}),(0,o.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(n=E.marca)||void 0===n?void 0:n.message})]}),(0,o.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,o.jsx)("label",{className:"form-label",children:"Modelo"}),(0,o.jsx)("input",{...w("modelo"),name:"modelo",id:"modelo",className:"form-control ".concat(E.modelo?"is-invalid":"")}),(0,o.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(a=E.modelo)||void 0===a?void 0:a.message})]}),(0,o.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,o.jsx)("label",{className:"form-label",children:"A\xf1o"}),(0,o.jsx)("input",{...w("anio"),name:"anio",id:"anio",className:"form-control ".concat(E.anio?"is-invalid":"")}),(0,o.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(d=E.anio)||void 0===d?void 0:d.message})]}),(0,o.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,o.jsx)("label",{className:"form-label",children:"Color"}),(0,o.jsx)("input",{...w("color"),name:"color",id:"color",className:"form-control ".concat(E.color?"is-invalid":"")}),(0,o.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(p=E.color)||void 0===p?void 0:p.message})]}),(0,o.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,o.jsx)("label",{className:"form-label",children:"Precio"}),(0,o.jsx)("input",{...w("precio"),name:"precio",id:"precio",className:"form-control ".concat(E.precio?"is-invalid":"")}),(0,o.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(j=E.precio)||void 0===j?void 0:j.message})]}),(0,o.jsxs)("div",{className:"d-flex gap-4",children:[(0,o.jsx)("button",{type:"submit",className:"btn btn-outline-dark btn-lg px-5",id:"boton-nuevo-auto",children:"Guardar"}),(0,o.jsx)(u(),{href:"/autos/detalle/".concat(v),children:(0,o.jsx)("button",{className:"btn btn-outline-dark btn-lg px-5",children:"Cancelar"})})]})]})})]})}},5944:function(e,n,a){"use strict";var o=a(5003),r=a.n(o);n.Z=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";return r()(n,e,a,{button:"ACEPTAR",closeOnEsc:!0,closeOnClickOutside:!0,timer:3e3})}},6468:function(e,n,a){"use strict";a.d(n,{Z:function(){return d}});var o=a(7437),r=a(3369);a(1396);var t=a(5944),s=a(4033),i=a(2580),l=a(7380),c=a(8776);function d(){let e=(0,s.useRouter)(),n=async()=>{await (0,r.jH)(),(0,t.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,o.jsx)(i.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,o.jsxs)("div",{className:"container-fluid",children:[(0,o.jsx)(i.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,o.jsx)(i.Z.Collapse,{id:"navbarSupportedContent",children:(0,o.jsxs)(l.Z,{className:"me-auto",children:[(0,o.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,o.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,o.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,o.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,o.jsxs)(c.Z,{title:"Autos",id:"basic-nav-dropdown",children:[(0,o.jsx)(c.Z.Item,{href:"/autos",children:"Autos"}),(0,o.jsx)(c.Z.Item,{href:"/autos/vendidos",children:"Autos Vendidos"}),(0,o.jsx)(c.Z.Item,{href:"/autos/disponibles",children:"Autos Disponibles"})]}),(0,o.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},4174:function(e,n,a){"use strict";a.d(n,{Z:function(){return d}});var o=a(7437),r=a(3369);a(1396);var t=a(5944),s=a(4033),i=a(2580),l=a(7380),c=a(8776);function d(){let e=(0,s.useRouter)(),n=async()=>{await (0,r.jH)(),(0,t.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,o.jsx)(i.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,o.jsxs)("div",{className:"container-fluid",children:[(0,o.jsx)(i.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,o.jsx)(i.Z.Collapse,{id:"navbarSupportedContent",children:(0,o.jsxs)(l.Z,{className:"me-auto",children:[(0,o.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,o.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,o.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,o.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,o.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},8170:function(e,n,a){"use strict";a.d(n,{Lw:function(){return c},MX:function(){return s},ZH:function(){return t},lf:function(){return i},m3:function(){return r},xC:function(){return l}});let o="https://back-end-autos.onrender.com/api/";async function r(e,n){let a=[];a={"Content-Type":"application/json"};let r=await fetch(o+e,{method:"POST",headers:a,body:JSON.stringify(n)});return await r.json()}async function t(e,n){let a=await fetch(o+e,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await a.json()}async function s(e,n,a){let r=await fetch(o+e+a,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await r.json()}async function i(e,n,a){let r=await fetch(o+e,{method:"POST",headers:{"Content-type":"application/json",token:a},body:JSON.stringify(n)});return await r.json()}async function l(e,n,a){let r=await fetch(o+e,{method:"POST",headers:{token:a},body:n});return await r.json()}async function c(e,n,a){let r=await fetch(o+e,{method:"PATCH",headers:{"Content-type":"application/json",token:a},body:JSON.stringify(n)});return await r.json()}},3369:function(e,n,a){"use strict";a.d(n,{Fr:function(){return t},LP:function(){return s},U2:function(){return r},a1:function(){return o},fK:function(){return i},jH:function(){return l},pR:function(){return c}});let o=(e,n)=>{sessionStorage.setItem(e,n)},r=e=>sessionStorage.getItem(e),t=e=>{sessionStorage.setItem("token",e)},s=()=>sessionStorage.getItem("token"),i=()=>sessionStorage.getItem("external_id"),l=()=>{sessionStorage.clear()},c=()=>{var e=sessionStorage.getItem("token");return e&&("undefined"!==e||null!==e||"null"!==e)}}},function(e){e.O(0,[595,664,729,971,938,744],function(){return e(e.s=664)}),_N_E=e.O()}]);