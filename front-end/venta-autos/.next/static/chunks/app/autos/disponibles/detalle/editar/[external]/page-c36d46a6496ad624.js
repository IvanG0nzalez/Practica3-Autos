(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{9658:function(e,n,o){Promise.resolve().then(o.bind(o,1034))},1034:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return p}});var a=o(7437),r=o(5691),t=o(2265),s=o(1865),i=o(4033),l=o(3369),c=o(5944),d=o(1396),u=o.n(d),m=o(6468),f=o(4174),h=o(8170);function p(e){var n,o,d,p,j;let{params:x}=e,v=x.external;(0,l.fK)();let b=(0,l.LP)(),g=(0,i.useRouter)(),Z=(0,l.U2)("rol"),[N,k]=(0,t.useState)({});(0,t.useEffect)(()=>{(async()=>{let e=await (0,h.ZH)("/admin/autos/obtener/"+v,b);console.log("response",e),e.datos&&(k(e.datos),S("marca",e.datos.marca),S("modelo",e.datos.modelo),S("anio",e.datos.anio),S("color",e.datos.color),S("precio",e.datos.precio))})()},[v,S,b]),r.Ry().shape({marca:r.Z_().required("Ingrese la marca del auto"),modelo:r.Z_().required("Ingrese el modelo del auto"),anio:r.Rx().required("Ingrese el a\xf1o del auto").typeError("El a\xf1o debe ser un n\xfamero").min(1886,"El a\xf1o m\xednimo permitido es 1886").max(new Date().getFullYear(),"El a\xf1o no puede ser mayor al actual"),color:r.Z_().required("Ingrese el color del auto"),precio:r.Rx().required("Ingrese el precio del auto").typeError("El precio debe ser un n\xfamero").min(0,"El precio no puede ser negativo")});let{register:w,handleSubmit:y,formState:C,setValue:S,watch:I}=(0,s.cI)({defaultValues:N}),{errors:E}=C;return(0,a.jsxs)("div",{className:"row",children:["gerente"===Z?(0,a.jsx)(m.Z,{}):(0,a.jsx)(f.Z,{}),(0,a.jsx)("h1",{children:"Modificar Auto"}),(0,a.jsx)("div",{className:"col-4 container-fluid",children:(0,a.jsxs)("form",{onSubmit:y(e=>{console.log("data",e);var n={marca:e.marca,modelo:e.modelo,anio:e.anio,color:e.color,precio:e.precio};console.log("dato",n),(0,h.Lw)("admin/auto/editar/"+v,n,b).then(e=>{console.log("info",e),200===e.code?((0,c.Z)("Auto modificado correctamente","OK","sucess"),g.push("/autos/disponibles/detalle/".concat(v))):(0,c.Z)("Error al modificar el auto!","Error","error")})}),children:[(0,a.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,a.jsx)("label",{className:"form-label",children:"Marca"}),(0,a.jsx)("input",{...w("marca"),name:"marca",id:"marca",className:"form-control ".concat(E.marca?"is-invalid":"")}),(0,a.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(n=E.marca)||void 0===n?void 0:n.message})]}),(0,a.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,a.jsx)("label",{className:"form-label",children:"Modelo"}),(0,a.jsx)("input",{...w("modelo"),name:"modelo",id:"modelo",className:"form-control ".concat(E.modelo?"is-invalid":"")}),(0,a.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(o=E.modelo)||void 0===o?void 0:o.message})]}),(0,a.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,a.jsx)("label",{className:"form-label",children:"A\xf1o"}),(0,a.jsx)("input",{...w("anio"),name:"anio",id:"anio",className:"form-control ".concat(E.anio?"is-invalid":"")}),(0,a.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(d=E.anio)||void 0===d?void 0:d.message})]}),(0,a.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,a.jsx)("label",{className:"form-label",children:"Color"}),(0,a.jsx)("input",{...w("color"),name:"color",id:"color",className:"form-control ".concat(E.color?"is-invalid":"")}),(0,a.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(p=E.color)||void 0===p?void 0:p.message})]}),(0,a.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,a.jsx)("label",{className:"form-label",children:"Precio"}),(0,a.jsx)("input",{...w("precio"),name:"precio",id:"precio",className:"form-control ".concat(E.precio?"is-invalid":"")}),(0,a.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(j=E.precio)||void 0===j?void 0:j.message})]}),(0,a.jsxs)("div",{className:"d-flex gap-4",children:[(0,a.jsx)("button",{type:"submit",className:"btn btn-outline-dark btn-lg px-5",id:"boton-nuevo-auto",children:"Guardar"}),(0,a.jsx)(u(),{href:"/autos/disponibles/detalle/".concat(v),children:(0,a.jsx)("button",{className:"btn btn-outline-dark btn-lg px-5",children:"Cancelar"})})]})]})})]})}},5944:function(e,n,o){"use strict";var a=o(5003),r=o.n(a);n.Z=function(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";return r()(n,e,o,{button:"ACEPTAR",closeOnEsc:!0,closeOnClickOutside:!0,timer:3e3})}},6468:function(e,n,o){"use strict";o.d(n,{Z:function(){return d}});var a=o(7437),r=o(3369);o(1396);var t=o(5944),s=o(4033),i=o(2580),l=o(7380),c=o(8776);function d(){let e=(0,s.useRouter)(),n=async()=>{await (0,r.jH)(),(0,t.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,a.jsx)(i.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsx)(i.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,a.jsx)(i.Z.Collapse,{id:"navbarSupportedContent",children:(0,a.jsxs)(l.Z,{className:"me-auto",children:[(0,a.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,a.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,a.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,a.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,a.jsxs)(c.Z,{title:"Autos",id:"basic-nav-dropdown",children:[(0,a.jsx)(c.Z.Item,{href:"/autos",children:"Autos"}),(0,a.jsx)(c.Z.Item,{href:"/autos/vendidos",children:"Autos Vendidos"}),(0,a.jsx)(c.Z.Item,{href:"/autos/disponibles",children:"Autos Disponibles"})]}),(0,a.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},4174:function(e,n,o){"use strict";o.d(n,{Z:function(){return d}});var a=o(7437),r=o(3369);o(1396);var t=o(5944),s=o(4033),i=o(2580),l=o(7380),c=o(8776);function d(){let e=(0,s.useRouter)(),n=async()=>{await (0,r.jH)(),(0,t.Z)("Adi\xf3s!","Hasta la pr\xf3xima"),e.push("/"),e.refresh()};return(0,a.jsx)(i.Z,{bg:"dark",expand:"lg",variant:"dark",children:(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsx)(i.Z.Toggle,{"aria-controls":"navbarSupportedContent"}),(0,a.jsx)(i.Z.Collapse,{id:"navbarSupportedContent",children:(0,a.jsxs)(l.Z,{className:"me-auto",children:[(0,a.jsx)(l.Z.Link,{onClick:n,children:"Cerrar Sesi\xf3n"}),(0,a.jsxs)(c.Z,{title:"Ventas",id:"basic-nav-dropdown",children:[(0,a.jsx)(c.Z.Item,{href:"/ventas",children:"Ventas"}),(0,a.jsx)(c.Z.Item,{href:"/ventas/propias",children:"Mis Ventas"})]}),(0,a.jsx)(l.Z.Link,{href:"/compradores",children:"Compradores"})]})})]})})}},8170:function(e,n,o){"use strict";o.d(n,{Lw:function(){return c},MX:function(){return s},ZH:function(){return t},lf:function(){return i},m3:function(){return r},xC:function(){return l}});let a="http://localhost:3000/api/";async function r(e,n){let o=[];o={"Content-Type":"application/json"};let r=await fetch(a+e,{method:"POST",headers:o,body:JSON.stringify(n)});return await r.json()}async function t(e,n){let o=await fetch(a+e,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await o.json()}async function s(e,n,o){let r=await fetch(a+e+o,{method:"GET",headers:{"Content-type":"application/json",token:n},cache:"no-store"});return await r.json()}async function i(e,n,o){let r=await fetch(a+e,{method:"POST",headers:{"Content-type":"application/json",token:o},body:JSON.stringify(n)});return await r.json()}async function l(e,n,o){let r=await fetch(a+e,{method:"POST",headers:{token:o},body:n});return await r.json()}async function c(e,n,o){let r=await fetch(a+e,{method:"PATCH",headers:{"Content-type":"application/json",token:o},body:JSON.stringify(n)});return await r.json()}},3369:function(e,n,o){"use strict";o.d(n,{Fr:function(){return t},LP:function(){return s},U2:function(){return r},a1:function(){return a},fK:function(){return i},jH:function(){return l},pR:function(){return c}});let a=(e,n)=>{sessionStorage.setItem(e,n)},r=e=>sessionStorage.getItem(e),t=e=>{sessionStorage.setItem("token",e)},s=()=>sessionStorage.getItem("token"),i=()=>sessionStorage.getItem("external_id"),l=()=>{sessionStorage.clear()},c=()=>{var e=sessionStorage.getItem("token");return e&&("undefined"!==e||null!==e||"null"!==e)}}},function(e){e.O(0,[595,664,729,971,938,744],function(){return e(e.s=9658)}),_N_E=e.O()}]);