(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7835:function(e,t,n){Promise.resolve().then(n.bind(n,1840))},1840:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7437),i=n(5691),a=n(4033),s=n(9701),o=n(1865),c=n(8170),l=n(3369);async function u(e){let t=await (0,c.m3)("inicio-sesion",e);return t&&200===t.code&&((0,l.Fr)(t.datos.token),(0,l.a1)("usuario",t.datos.user),(0,l.a1)("external_id",t.datos.external_id),(0,l.a1)("rol",t.datos.rol)),t}var d=n(5944);function f(){var e,t;let n=(0,a.useRouter)(),c=i.Ry().shape({usuario:i.Z_().required("Ingrese su usuario"),clave:i.Z_().required("Ingrese su clave")}),f={resolver:(0,s.X)(c)},{register:m,handleSubmit:h,formState:v}=(0,o.cI)(f),{errors:p}=v;return(0,r.jsx)("div",{className:"",children:(0,r.jsx)("section",{className:"vh-100 gradient-custom",children:(0,r.jsx)("div",{className:"container py-5 h-100",children:(0,r.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:(0,r.jsx)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:(0,r.jsx)("div",{className:"card bg-dark text-white",style:{WebkitBorderRadius:"1rem"},children:(0,r.jsx)("div",{className:"card-body p-5 text-center",children:(0,r.jsx)("form",{onSubmit:h(e=>{var e={usuario:e.usuario,clave:e.clave};u(e).then(e=>{(0,l.pR)()?((0,d.Z)("Has ingresado al sistema!","Bienvenido"),n.push("/ventas")):(0,d.Z)("Error al iniciar sesi\xf3n!",e.msg,"error")})}),children:(0,r.jsxs)("div",{className:"mb-md-5 mt-md-4 pb-5",children:[(0,r.jsx)("h2",{className:"fw-bold mb-2 text-uppercase",children:"Inicio de Sesi\xf3n"}),(0,r.jsx)("p",{className:"text-white-50 mb-5",children:"Ingrese su usuario y clave"}),(0,r.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,r.jsx)("input",{...m("usuario"),name:"usuario",id:"usuario",className:"form-control ".concat(p.usuario?"is-invalid":"")}),(0,r.jsx)("label",{className:"form-label",children:"Usuario"}),(0,r.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(e=p.identificador)||void 0===e?void 0:e.message})]}),(0,r.jsxs)("div",{className:"form-outline form-white mb-4",children:[(0,r.jsx)("input",{...m("clave"),name:"clave",type:"password",id:"clave",className:"form-control ".concat(p.clave?"is-invalid":"")}),(0,r.jsx)("label",{className:"form-label",children:"Clave"}),(0,r.jsx)("div",{className:"alert alert-danger invalid-feedback",children:null===(t=p.clave)||void 0===t?void 0:t.message})]}),(0,r.jsx)("button",{className:"btn btn-outline-light btn-lg px-5",type:"submit",children:"Acceder"})]})})})})})})})})})}},5944:function(e,t,n){"use strict";var r=n(5003),i=n.n(r);t.Z=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";return i()(t,e,n,{button:"ACEPTAR",closeOnEsc:!0,closeOnClickOutside:!0,timer:3e3})}},8170:function(e,t,n){"use strict";n.d(t,{Lw:function(){return l},MX:function(){return s},ZH:function(){return a},lf:function(){return o},m3:function(){return i},xC:function(){return c}});let r="http://localhost:3000/api/";async function i(e,t){let n=[];n={"Content-Type":"application/json"};let i=await fetch(r+e,{method:"POST",headers:n,body:JSON.stringify(t)});return await i.json()}async function a(e,t){let n=await fetch(r+e,{method:"GET",headers:{"Content-type":"application/json",token:t},cache:"no-store"});return await n.json()}async function s(e,t,n){let i=await fetch(r+e+n,{method:"GET",headers:{"Content-type":"application/json",token:t},cache:"no-store"});return await i.json()}async function o(e,t,n){let i=await fetch(r+e,{method:"POST",headers:{"Content-type":"application/json",token:n},body:JSON.stringify(t)});return await i.json()}async function c(e,t,n){let i=await fetch(r+e,{method:"POST",headers:{token:n},body:t});return await i.json()}async function l(e,t,n){let i=await fetch(r+e,{method:"PATCH",headers:{"Content-type":"application/json",token:n},body:JSON.stringify(t)});return await i.json()}},3369:function(e,t,n){"use strict";n.d(t,{Fr:function(){return a},LP:function(){return s},U2:function(){return i},a1:function(){return r},fK:function(){return o},jH:function(){return c},pR:function(){return l}});let r=(e,t)=>{sessionStorage.setItem(e,t)},i=e=>sessionStorage.getItem(e),a=e=>{sessionStorage.setItem("token",e)},s=()=>sessionStorage.getItem("token"),o=()=>sessionStorage.getItem("external_id"),c=()=>{sessionStorage.clear()},l=()=>{var e=sessionStorage.getItem("token");return e&&("undefined"!==e||null!==e||"null"!==e)}},9701:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(1865),i=function(e,t,n){if(e&&"reportValidity"in e){var i=(0,r.U2)(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},a=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?i(r.ref,n,e):r.refs&&r.refs.forEach(function(t){return i(t,n,e)})};for(var r in t.fields)n(r)},s=function(e,t){t.shouldUseNativeValidation&&a(e,t);var n={};for(var i in e){var s=(0,r.U2)(t.fields,i),l=Object.assign(e[i]||{},{ref:s&&s.ref});if(c(t.names||Object.keys(e),i)){var u=Object.assign({},o((0,r.U2)(n,i)));(0,r.t8)(u,"root",l),(0,r.t8)(n,i,u)}else(0,r.t8)(n,i,l)}return n},o=function(e){return Array.isArray(e)?e.filter(Boolean):[]},c=function(e,t){return e.some(function(e){return e.startsWith(t+".")})};function l(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(i,o,c){try{return Promise.resolve(function(r,s){try{var l=(t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](i,Object.assign({abortEarly:!1},t,{context:o}))).then(function(e){return c.shouldUseNativeValidation&&a({},c),{values:n.raw?i:e,errors:{}}}))}catch(e){return s(e)}return l&&l.then?l.then(void 0,s):l}(0,function(e){var t;if(!e.inner)throw e;return{values:{},errors:s((t=!c.shouldUseNativeValidation&&"all"===c.criteriaMode,(e.inner||[]).reduce(function(e,n){if(e[n.path]||(e[n.path]={message:n.message,type:n.type}),t){var i=e[n.path].types,a=i&&i[n.type];e[n.path]=(0,r.KN)(n.path,t,e,n.type,a?[].concat(a,n.message):n.message)}return e},{})),c)}}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[595,729,971,938,744],function(){return e(e.s=7835)}),_N_E=e.O()}]);